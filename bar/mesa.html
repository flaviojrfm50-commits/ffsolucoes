<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Mesa</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#020617;
  color:#fff;
  font-family:system-ui;
  text-align:center;
}
.box{
  padding:24px;
}
</style>
</head>

<body>

<div class="box">
  <h2>üçΩÔ∏è Acessando card√°pio‚Ä¶</h2>
  <p>aguarde um instante</p>
</div>

<script>
/* ================================
   LE PARAMS (COMPAT√çVEL COM QR ANTIGO)
================================ */
const params = new URLSearchParams(location.search);

// aceita v√°rios formatos antigos
const app_id =
  params.get("app_id") ||
  params.get("app");

const mesa =
  params.get("mesa") ||
  params.get("id") ||
  params.get("mesa_id");

/* ================================
   VALIDA√á√ÉO
================================ */
if(!app_id || !mesa){
  document.body.innerHTML = `
    <div class="box">
      <h2>‚ùå QR inv√°lido</h2>
      <p>Par√¢metros ausentes</p>
    </div>
  `;
  throw "";
}

/* ================================
   REDIRECIONA PRO CARD√ÅPIO
================================ */
// ajuste o caminho se necess√°rio
const destino =
  `../cardapio/index.html?app_id=${encodeURIComponent(app_id)}&mesa=${encodeURIComponent(mesa)}`;

location.replace(destino);
</script>

</body>
</html>
